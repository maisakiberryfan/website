<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<link rel="stylesheet" href="/assets/dist/tool.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="icon" type="image/x-icon" href="/favicon.ico">
	<script type="module" defer src="/assets/dist/tool.js"></script>
	<base target="_blank">
	<meta name="description" content="An Unofficial fansite about è‹ºå’²ã¹ã‚Šãƒ(Maisaki Berry).Main content are singing data.">
	<style>
		/* Select2 dark theme fixes */
		.select2-results__option, .select2-selection__choice, .select2-selection__clear {
			color: black !important;
		}

		.select2-dropdown {
			background-color: white !important;
			border: 1px solid #ced4da !important;
		}

		.select2-results__options {
			background-color: white !important;
			color: black !important;
		}

		.select2-results__option--highlighted {
			background-color: #0d6efd !important;
			color: white !important;
		}

		.select2-search__field {
			background-color: white !important;
			color: black !important;
		}

		.select2-selection {
			background-color: white !important;
			border: 1px solid #ced4da !important;
		}

		.select2-selection__rendered {
			color: black !important;
		}

		.figure-cloth {
			width: 324px;
			height: 726px;
			margin: 3px
		}
		.card {
			width: 480px;
		}

		/* Context Menu Styles */
		.context-menu {
			position: fixed;
			background: var(--bs-dark);
			border: 1px solid var(--bs-border-color);
			border-radius: 4px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.3);
			z-index: 9999;
			min-width: 250px;
			padding: 4px 0;
		}

		.context-menu-item {
			padding: 10px 16px;
			cursor: pointer;
			color: var(--bs-light);
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.context-menu-item:hover {
			background: var(--bs-primary);
		}

		.context-menu-divider {
			height: 1px;
			background: var(--bs-border-color);
			margin: 4px 0;
		}

		/* Language Switch Styles */
		.lang-switch {
			position: relative;
			display: inline-block;
			width: 50px;
			height: 24px;
		}
		.lang-switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}
		.lang-slider {
			position: absolute;
			cursor: pointer;
			top: 0; left: 0; right: 0; bottom: 0;
			background-color: #6c757d;
			transition: .3s;
			border-radius: 24px;
		}
		.lang-slider:before {
			position: absolute;
			content: "";
			height: 18px;
			width: 18px;
			left: 3px;
			bottom: 3px;
			background-color: white;
			transition: .3s;
			border-radius: 50%;
		}
		.lang-switch input:checked + .lang-slider {
			background-color: #0d6efd;
		}
		.lang-switch input:checked + .lang-slider:before {
			transform: translateX(26px);
		}

		/* Navbar icon and text styles */
		.navbar .nav-link,
		.navbar .dropdown-toggle {
			font-size: 1.25rem;
		}
		.navbar .dropdown-item {
			font-size: 1rem;
		}
		.navbar .bi-youtube {
			color: #ff0000;
		}
	</style>
</head>

<body>
	<header id="nav"><!-- navbar --></header>

	<div id='content' class="container my-5 pt-5"></div>

	<!-- Modal for message -->
	<div class="modal fade" id="modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitle"><span data-lang="zh">é€šçŸ¥</span><span data-lang="en" class="d-none">Notice</span></h1>
				</div>
				<div class="modal-body" id='modalMsg'></div>
				<div class="modal-footer" id="modalFooter">
					<!--<button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id=""></button>-->
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for add setlist row -->
	<div class="modal fade" id="modalAddRow" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleAddRow" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleAddRow"><span data-lang="zh">æ–°å¢æ­Œå–®åˆ—</span><span data-lang="en" class="d-none">Add Setlist Row</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id='addRowInfo'>
					<form>
						<div class="form-group row my-2">
							<label for="YTLink" class="col-sm-3 col-form-label"><span data-lang="zh">YouTube é€£çµ</span><span data-lang="en" class="d-none">YT Link</span></label>
							<div class="col-sm-8">
							  <input type="text" class="form-control YTInfoQ" id="YTLink" placeholder="https://www.youtube.com/watch?v=OOO">
							</div>
						</div>
						<div class="form-group row my-2">
						  <label for="setlistDate" class="col-sm-3 col-form-label"><span data-lang="zh">æ—¥æœŸ</span><span data-lang="en" class="d-none">Date</span></label>
						  <div class="col-sm-5">
						  	<input type="input" class="form-control" id="setlistDate" placeholder="YYYY/MM/DD">
						  </div>
						  <div class="col-sm-3">
							<span id="dateCheck" class="text-danger"></span>
						  </div>
						</div>
						<div class="form-group row my-2">
						  <label for="songs" class="col-sm-3 col-form-label"><span data-lang="zh">æ­Œæ›²æ•¸é‡</span><span data-lang="en" class="d-none">How many songs</span></label>
						  <div class="col-sm-8">
							<input type="text" class="form-control" id="songs" value="20">
						  </div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="addRowData"><span data-lang="zh">æ–°å¢</span><span data-lang="en" class="d-none">Add</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for add streamlist row -->
	<div class="modal fade" id="modalAddStreamRow" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleAddStreamRow" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleAddStreamRow"><span data-lang="zh">æ–°å¢ç›´æ’­</span><span data-lang="en" class="d-none">Add Stream</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id='addStreamRowInfo'>
					<!-- éŒ¯èª¤è¨Šæ¯å€åŸŸ -->
					<div id="addStreamRowError" class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none;">
						<strong>âŒ æ–°å¢å¤±æ•—</strong>
						<div id="addStreamRowErrorMsg"></div>
						<button type="button" class="btn-close" onclick="document.getElementById('addStreamRowError').style.display='none'"></button>
					</div>

					<form>
						<div class="form-group row my-2">
							<label for="YTID" class="col-sm-3 col-form-label"><span data-lang="zh">YouTube é€£çµ</span><span data-lang="en" class="d-none">YT Link</span></label>
							<div class="col-sm-8">
							  <input type="text" class="form-control" id="YTID" placeholder="https://www.youtube.com/watch?v=OOO">
							</div>
							<input type="text" class="form-control" id="videoID" hidden>
						</div>
						<div class="form-group row my-2">
							<div class="col-sm-3"></div>
							<div class="col-sm-8">
							  <div id="streamMsg"  class="text-danger">ã€€</div>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="streamTitle" class="col-sm-3 col-form-label"><span data-lang="zh">æ¨™é¡Œ</span><span data-lang="en" class="d-none">Title</span></label>
							<div class="col-sm-8">
							  <input type="text" class="form-control" id="streamTitle" disabled>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="streamTime" class="col-sm-3 col-form-label"><span data-lang="zh">æœ¬åœ°æ™‚é–“</span><span data-lang="en" class="d-none">Local Time</span></label>
							<div class="col-sm-5">
							  <input type="text" class="form-control" id="streamTime" placeholder="YYYY/MM/DD HH:mm"  disabled>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="category" class="col-sm-3 col-form-label"><span data-lang="zh">åˆ†é¡</span><span data-lang="en" class="d-none">Category</span></label>
							<div class="col-sm-5">
								<select name="category" id="category" multiple></select>
							</div>
						</div>
						<div class="form-group row my-2">
							<div class="col-sm-3"></div>
							<div class="col-sm-8">
								<span data-lang="zh">å¯è¤‡é¸åˆ†é¡æˆ–è¼¸å…¥æ–°å¢</span><span data-lang="en" class="d-none">Select multiple categories or type to add new ones</span>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" id="addStreamRowData"><span data-lang="zh">æ–°å¢</span><span data-lang="en" class="d-none">Add</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for add songlist row -->
	<div class="modal fade" id="modalAddSong" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleAddSong" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleAddSong"><span data-lang="zh">æ–°å¢æ­Œæ›²</span><span data-lang="en" class="d-none">Add Song</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id='addSongInfo'>
					<form>
						<div class="form-group row my-2">
							<label for="songName" class="col-sm-3 col-form-label"><span data-lang="zh">æ­Œå *</span><span data-lang="en" class="d-none">Song Name *</span></label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="songName" required>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="songNameEn" class="col-sm-3 col-form-label"><span data-lang="zh">æ­Œå (è‹±)</span><span data-lang="en" class="d-none">Song Name (EN)</span></label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="songNameEn">
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="artistName" class="col-sm-3 col-form-label"><span data-lang="zh">æ­Œæ‰‹ *</span><span data-lang="en" class="d-none">Artist *</span></label>
							<div class="col-sm-9">
								<select class="form-control" id="artistName" required>
									<option value="">Select or type artist name...</option>
								</select>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="artistNameEn" class="col-sm-3 col-form-label"><span data-lang="zh">æ­Œæ‰‹ (è‹±)</span><span data-lang="en" class="d-none">Artist (EN)</span></label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="artistNameEn">
								<small class="form-text text-muted"><span data-lang="zh">é¸æ“‡ç¾æœ‰æ­Œæ‰‹æ™‚è‡ªå‹•å¡«å…¥ï¼Œå¯æ‰‹å‹•ç·¨è¼¯</span><span data-lang="en" class="d-none">Auto-filled when selecting existing artist, but can be manually edited</span></small>
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="genreName" class="col-sm-3 col-form-label"><span data-lang="zh">é¡å‹</span><span data-lang="en" class="d-none">Genre</span></label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="genreName">
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="tieupName" class="col-sm-3 col-form-label"><span data-lang="zh">Tie-up</span><span data-lang="en" class="d-none">Tie-up</span></label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="tieupName">
							</div>
						</div>
						<div class="form-group row my-2">
							<label for="songNoteText" class="col-sm-3 col-form-label"><span data-lang="zh">å‚™è¨»</span><span data-lang="en" class="d-none">Note</span></label>
							<div class="col-sm-9">
								<textarea class="form-control" id="songNoteText" rows="2"></textarea>
							</div>
						</div>
						<div class="form-group row my-2">
							<div class="col-sm-3"></div>
							<div class="col-sm-9">
								<span class="text-muted"><span data-lang="zh">* å¿…å¡«æ¬„ä½</span><span data-lang="en" class="d-none">* Required fields</span></span>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">å–æ¶ˆ</span><span data-lang="en" class="d-none">Cancel</span></button>
					<button type="button" class="btn btn-primary" id="addSongData"><span data-lang="zh">æ–°å¢æ­Œæ›²</span><span data-lang="en" class="d-none">Add Song</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for batch setlist editing -->
	<div class="modal fade" id="modalBatchEdit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleBatchEdit" aria-hidden="true">
		<div class="modal-dialog modal-xl modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleBatchEdit">ğŸ“ <span data-lang="zh">æ‰¹æ¬¡ç·¨è¼¯æ­Œå–®</span><span data-lang="en" class="d-none">Batch Edit Setlist</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<h6><span data-lang="zh">ç›´æ’­è³‡è¨Š</span><span data-lang="en" class="d-none">Stream Information</span></h6>
						<p class="mb-1"><strong>ID:</strong> <span id="batchStreamID"></span></p>
						<p class="mb-1"><strong><span data-lang="zh">æ¨™é¡Œ</span><span data-lang="en" class="d-none">Title</span>:</strong> <span id="batchStreamTitle"></span></p>
						<div id="batchLoadStatus" class="alert alert-info mt-2" style="display: none;"></div>
					</div>

					<div class="row mb-3">
						<div class="col-md-4">
							<label for="batchStartTrack" class="form-label"><span data-lang="zh">èµ·å§‹ Track ç·¨è™Ÿ</span><span data-lang="en" class="d-none">Start Track</span></label>
							<input type="number" class="form-control" id="batchStartTrack" value="1" min="1">
						</div>
						<div class="col-md-4">
							<label for="batchTotalSongs" class="form-label"><span data-lang="zh">ç¸½æ›²æ•¸</span><span data-lang="en" class="d-none">Total Songs</span></label>
							<input type="number" class="form-control" id="batchTotalSongs" value="20" min="1" max="100">
						</div>
						<div class="col-md-4">
							<label for="batchSegment" class="form-label"><span data-lang="zh">æ­Œå›ç·¨è™Ÿ</span><span data-lang="en" class="d-none">Segment</span></label>
							<input type="number" class="form-control" id="batchSegment" value="1" min="1">
							<small class="form-text text-muted"><span data-lang="zh">ç•¶å¤©ç¬¬å¹¾æ¬¡æ­Œå›ï¼ˆæ•´å ´å…±ç”¨ï¼‰</span><span data-lang="en" class="d-none">Which singing session (shared for entire stream)</span></small>
						</div>
					</div>

					<div class="mb-2 d-flex gap-2">
						<button type="button" class="btn btn-primary btn-sm" id="generateBatchTable"><span data-lang="zh">ç”¢ç”Ÿè¡¨æ ¼</span><span data-lang="en" class="d-none">Generate Table</span></button>
						<button type="button" class="btn btn-success btn-sm" id="batchAddNewSong">â• <span data-lang="zh">æ–°å¢æ­Œæ›²</span><span data-lang="en" class="d-none">Add New Song</span></button>
					</div>

					<div id="batchTableContainer">
						<!-- Tabulator table will be rendered here -->
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">å–æ¶ˆ</span><span data-lang="en" class="d-none">Cancel</span></button>
					<button type="button" class="btn btn-primary" id="saveBatchSetlist"><span data-lang="zh">å…¨éƒ¨å„²å­˜</span><span data-lang="en" class="d-none">Save All</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for quick add setlist (live streaming) -->
	<div class="modal fade" id="modalQuickAdd" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleQuickAdd" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleQuickAdd">âš¡ <span data-lang="zh">å¿«é€Ÿæ–°å¢æ­Œå–®</span><span data-lang="en" class="d-none">Quick Add (Live)</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" style="position: relative; min-height: 300px;">

				<!-- è¼‰å…¥é®ç½©å±¤ -->
				<div id="quickAddLoadingOverlay" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); z-index: 1050; border-radius: 0.375rem;">
					<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: white;">
						<div class="spinner-border mb-3" role="status" style="width: 3rem; height: 3rem;">
							<span class="visually-hidden">è¼‰å…¥ä¸­...</span>
						</div>
						<div style="font-size: 1.1rem; font-weight: 500;">æ­£åœ¨æª¢æ¸¬ç¾æœ‰æ­Œå–®...</div>
					</div>
				</div>

				<!-- éŒ¯èª¤è¨Šæ¯å€åŸŸ -->
				<div id="quickAddError" class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none;">
					<strong>âŒ <span data-lang="zh">æ“ä½œå¤±æ•—</span><span data-lang="en" class="d-none">Operation Failed</span></strong>
						<div id="quickAddErrorMsg"></div>
						<button type="button" class="btn-close" onclick="document.getElementById('quickAddError').style.display='none'; document.getElementById('quickAddErrorMsg').innerHTML=''"></button>
					</div>

					<div class="mb-3">
						<h6><span data-lang="zh">ç›´æ’­è³‡è¨Š</span><span data-lang="en" class="d-none">Stream Information</span></h6>
						<p class="mb-1"><strong>ID:</strong> <span id="quickStreamID"></span></p>
						<p class="mb-1"><strong><span data-lang="zh">æ¨™é¡Œ</span><span data-lang="en" class="d-none">Title</span>:</strong> <span id="quickStreamTitle"></span></p>
					</div>

					<div class="alert alert-info">
						<small>ğŸ’¡ <span data-lang="zh">æ­¤æ¨¡å¼é©åˆç›´æ’­ä¸­å¿«é€Ÿè¨˜éŒ„æ­Œæ›²ã€‚æŒ‰ Enter é€£çºŒæ–°å¢ï¼ŒæŒ‰ Esc é—œé–‰è¦–çª—ã€‚</span><span data-lang="en" class="d-none">Quick mode for live streaming. Press Enter to add continuously, Esc to close.</span></small>
					</div>

					<div class="row mb-3">
						<div class="col-md-6">
							<label for="quickStartTrack" class="form-label"><span data-lang="zh">èµ·å§‹ Track ç·¨è™Ÿ *</span><span data-lang="en" class="d-none">Start Track *</span></label>
							<input type="number" class="form-control" id="quickStartTrack" placeholder="é¦–æ¬¡éœ€å¡«å¯«" min="1" required>
							<small class="form-text text-muted"><span data-lang="zh">ç¬¬ä¸€æ¬¡å¡«å¯«å¾Œæœƒè‡ªå‹•éå¢</span><span data-lang="en" class="d-none">Auto-increments after first entry</span></small>
						</div>
						<div class="col-md-6">
							<label for="quickSegment" class="form-label"><span data-lang="zh">æ­Œå›ç·¨è™Ÿ</span><span data-lang="en" class="d-none">Segment</span></label>
							<input type="number" class="form-control" id="quickSegment" value="1" min="1">
							<small class="form-text text-muted"><span data-lang="zh">ç•¶å¤©ç¬¬å¹¾æ¬¡æ­Œå›</span><span data-lang="en" class="d-none">Which singing session of the day</span></small>
						</div>
					</div>

					<hr>

					<div class="mb-3" id="quickAddFormSection" style="display: none;">
						<div class="alert alert-success">
							<strong><span data-lang="zh">ä¸‹ä¸€é¦– Track:</span><span data-lang="en" class="d-none">Next Track:</span></strong> <span id="quickNextTrack">-</span>
						</div>

						<div class="mb-3">
							<div class="d-flex justify-content-between align-items-center mb-2">
								<label for="quickSongSelect" class="form-label mb-0"><span data-lang="zh">æ­Œæ›² *</span><span data-lang="en" class="d-none">Song *</span></label>
								<button type="button" class="btn btn-success btn-sm" id="quickAddNewSong">
									â• <span data-lang="zh">æ–°å¢åˆå›æ­Œæ›²</span><span data-lang="en" class="d-none">Add New Song</span>
								</button>
							</div>
							<select class="form-control" id="quickSongSelect" required>
								<option value="">Search song...</option>
							</select>
						</div>

						<div class="mb-3">
							<label for="quickNote" class="form-label"><span data-lang="zh">å‚™è¨»</span><span data-lang="en" class="d-none">Note</span></label>
							<input type="text" class="form-control" id="quickNote" placeholder="Optional">
						</div>

						<div class="d-grid gap-2">
							<button type="button" class="btn btn-primary" id="quickAddSongBtn">
								<strong>Enter</strong> <span data-lang="zh">æ–°å¢æ­Œæ›²</span><span data-lang="en" class="d-none">Add Song</span>
							</button>
						</div>
					</div>

					<div class="mb-3" id="quickStartSection">
						<div class="d-grid gap-2">
							<button type="button" class="btn btn-success btn-lg" id="quickStartBtn">
								<span data-lang="zh">é–‹å§‹è¨˜éŒ„</span><span data-lang="en" class="d-none">Start</span>
							</button>
						</div>
					</div>

					<hr>

					<div class="mb-3">
						<h6><span data-lang="zh">å·²æ–°å¢æ¸…å–®</span><span data-lang="en" class="d-none">Added Songs</span></h6>
						<div id="quickAddedList" class="border rounded p-2" style="max-height: 200px; overflow-y: auto; min-height: 50px;">
							<small class="text-muted"><span data-lang="zh">å°šæœªæ–°å¢ä»»ä½•æ­Œæ›²</span><span data-lang="en" class="d-none">No songs added yet</span></small>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">é—œé–‰</span><span data-lang="en" class="d-none">Close</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for bilingual field editing -->
	<div class="modal fade" id="modalBilingualEdit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleBilingualEdit" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleBilingualEdit"><span data-lang="zh">ç·¨è¼¯</span><span data-lang="en" class="d-none">Edit</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label for="bilingualJA" class="form-label">
							<span id="bilingualFieldLabel">æ—¥æ–‡</span> (Japanese)
						</label>
						<input type="text" class="form-control" id="bilingualJA" placeholder="æ—¥æœ¬èªã§å…¥åŠ›">
					</div>
					<div class="mb-3">
						<label for="bilingualEN" class="form-label">
							è‹±æ–‡ (English)
						</label>
						<input type="text" class="form-control" id="bilingualEN" placeholder="Enter in English">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">å–æ¶ˆ</span><span data-lang="en" class="d-none">Cancel</span></button>
					<button type="button" class="btn btn-primary" id="saveBilingual"><span data-lang="zh">å„²å­˜</span><span data-lang="en" class="d-none">Save</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal: Batch Add Aliases -->
	<div class="modal fade" id="modalBatchAddAliases" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleBatchAddAliases" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleBatchAddAliases">ğŸ“¦ <span data-lang="zh">æ‰¹æ¬¡æ–°å¢åˆ¥å</span><span data-lang="en" class="d-none">Batch Add Aliases</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label for="batchAliasType" class="form-label"><span data-lang="zh">é¡å‹</span><span data-lang="en" class="d-none">Type</span></label>
						<select class="form-select" id="batchAliasType">
							<option value="artist"><span data-lang="zh">æ­Œæ‰‹</span><span data-lang="en" class="d-none">Artist</span></option>
							<option value="title"><span data-lang="zh">æ­Œå</span><span data-lang="en" class="d-none">Title</span></option>
						</select>
					</div>
					<div class="mb-3">
						<label for="batchAliasJSON" class="form-label"><span data-lang="zh">JSON æ ¼å¼ (æ‰¹æ¬¡åŒ¯å…¥)</span><span data-lang="en" class="d-none">JSON Format (Batch Import)</span></label>
						<textarea class="form-control font-monospace" id="batchAliasJSON" rows="10" placeholder='{"é‡˜å®®ç†æµ": ["kugimiya rie", "é‡˜å®®"], "Î¼\'s": ["ãƒŸãƒ¥ãƒ¼ã‚º", "muse"]}'></textarea>
						<div class="form-text">
							<span data-lang="zh">æ ¼å¼ï¼š{"æ¨™æº–åç¨±": ["åˆ¥å1", "åˆ¥å2"], ...}</span><span data-lang="en" class="d-none">Format: {"Canonical": ["alias1", "alias2"], ...}</span>
						</div>
					</div>
					<div class="mb-3">
						<div class="alert alert-info" role="alert">
							<strong><span data-lang="zh">èªªæ˜ï¼š</span><span data-lang="en" class="d-none">Instructions:</span></strong>
							<ul class="mb-0">
								<li><span data-lang="zh">JSON æ ¼å¼ï¼šç‰©ä»¶çš„ key ç‚ºæ¨™æº–åç¨±ï¼Œvalue ç‚ºåˆ¥åé™£åˆ—</span><span data-lang="en" class="d-none">JSON format: object key = canonical name, value = alias array</span></li>
								<li><span data-lang="zh">ç¯„ä¾‹ï¼š</span><span data-lang="en" class="d-none">Example: </span>{"é‡˜å®®ç†æµ": ["kugimiya rie", "é‡˜å®®"]}</li>
								<li><span data-lang="zh">æ¯å€‹åˆ¥åå°‡å»ºç«‹ç‚ºç¨ç«‹çš„è³‡æ–™åˆ—</span><span data-lang="en" class="d-none">Each alias will be created as a separate row</span></li>
							</ul>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">å–æ¶ˆ</span><span data-lang="en" class="d-none">Cancel</span></button>
					<button type="button" class="btn btn-primary" id="saveBatchAliases">
						<i class="bi bi-upload"></i> <span data-lang="zh">ä¸Šå‚³</span><span data-lang="en" class="d-none">Upload</span>
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal: Quick Add Alias -->
	<div class="modal fade" id="modalQuickAddAlias" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleQuickAddAlias" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleQuickAddAlias">âš¡ <span data-lang="zh">å¿«é€Ÿæ–°å¢åˆ¥å</span><span data-lang="en" class="d-none">Quick Add Alias</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<!-- Alert container for success/error messages -->
					<div id="quickAliasAlert" class="alert-container mb-3" style="display: none;"></div>

					<div class="mb-3">
						<label for="quickAliasType" class="form-label">é¡å‹ (Type)</label>
						<select class="form-select" id="quickAliasType">
							<option value="artist">æ­Œæ‰‹ (Artist)</option>
							<option value="title">æ­Œå (Title)</option>
						</select>
					</div>
					<div class="mb-3">
						<label for="quickCanonicalName" class="form-label">æ¨™æº–åç¨± (Canonical Name)</label>
						<select class="form-select" id="quickCanonicalName">
							<option value="">è«‹é¸æ“‡...</option>
						</select>
						<div class="form-text">
							è«‹å¾æ¸…å–®ä¸­é¸æ“‡è³‡æ–™åº«ä¸­å·²å­˜åœ¨çš„æ­Œæ›²æˆ–æ­Œæ‰‹
						</div>
					</div>
					<div class="mb-3">
						<label for="quickAliasValue" class="form-label">åˆ¥å (Alias)</label>
						<input type="text" class="form-control" id="quickAliasValue" placeholder="ä¾‹ï¼škugimiya rie">
						<div class="form-text">
							è¼¸å…¥é€™é¦–æ­Œ/æ­Œæ‰‹çš„å¦ä¸€ç¨®å¯«æ³•
						</div>
					</div>
					<div class="mb-3">
						<label for="quickAliasNote" class="form-label">å‚™è¨» (Note) <span class="text-muted">(å¯é¸)</span></label>
						<input type="text" class="form-control" id="quickAliasNote" placeholder="ä¾‹ï¼šRomaji name">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">å–æ¶ˆ</span><span data-lang="en" class="d-none">Cancel</span></button>
					<button type="button" class="btn btn-primary" id="saveQuickAlias">
						<i class="bi bi-plus-circle"></i> <span data-lang="zh">æ–°å¢</span><span data-lang="en" class="d-none">Add</span>
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal: Test Alias -->
	<div class="modal fade" id="modalTestAlias" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalTitleTestAlias" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="modalTitleTestAlias">ğŸ§ª <span data-lang="zh">æ¸¬è©¦åˆ¥ååŒ¹é…</span><span data-lang="en" class="d-none">Test Alias Matching</span></h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="mb-3">
						<label for="testAliasType" class="form-label">é¡å‹ (Type)</label>
						<select class="form-select" id="testAliasType">
							<option value="artist">æ­Œæ‰‹ (Artist)</option>
							<option value="title">æ­Œå (Title)</option>
						</select>
					</div>
					<div class="mb-3">
						<label for="testAliasInput" class="form-label">æ¸¬è©¦è¼¸å…¥ (Input Text)</label>
						<input type="text" class="form-control" id="testAliasInput" placeholder="è¼¸å…¥è¦æ¸¬è©¦çš„æ–‡å­—">
					</div>
					<div class="mb-3">
						<button type="button" class="btn btn-primary" id="runTestAlias">
							<i class="bi bi-search"></i> Test
						</button>
					</div>
					<div id="testAliasResults" class="mt-3" style="display: none;">
						<h6>åŒ¹é…çµæœ (Matching Results):</h6>
						<div id="testAliasResultsContent"></div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><span data-lang="zh">é—œé–‰</span><span data-lang="en" class="d-none">Close</span></button>
				</div>
			</div>
		</div>
	</div>

	<!-- Connection Error Alert (fixed position at top) -->
	<div id="connectionErrorAlert" class="alert alert-danger alert-dismissible fade" role="alert" style="display: none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; min-width: 400px; max-width: 600px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
		<h5 class="alert-heading">
			<i class="bi bi-exclamation-triangle-fill me-2"></i>
			ç„¡æ³•é€£ç·šåˆ°è³‡æ–™åº«
		</h5>
		<p class="mb-2" id="connectionErrorMessage">è«‹æª¢æŸ¥ Hyperdrive æœå‹™æ˜¯å¦å•Ÿå‹•ï¼ˆ<code>http://localhost:8785</code>ï¼‰ï¼Œæˆ–ç¨å¾Œå†è©¦ã€‚</p>
		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>

</body>
</html>
